<html>
<head>
<title>Black Pearl</title>
<link rel="stylesheet" href="/static/_next/static/css/18320c07e1346e7b559c.css" data-n-g="">
<noscript data-n-css=""></noscript>
<link rel="preload" href="/static/_next/static/chunks/main-27e14eb47b539cdb3e8c.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/framework.6fff953eb0f638171baa.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/commons.a89488e7f2e7f9f72c36.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/e826f0b3c7e5163b4a45b61034d017405fe77713.2469b8b4234649880463.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/pages/_app-7a45728c22287ba49f0c.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/871921e26b2a9666c7e0ea5f88ca912a2514dc2a.9bffbc7641973b6398b3.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/1bc123f1c204f269b64d83a42f412a8300bd6499.d56abaf5fb91ad953ccf.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/pages/signup-1b859fa040536555b87d.js" as="script">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/4a3ea9cd.79a89465bcda83e5e828.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/75fc9c18.46f8ef1c317b30a0f302.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/e74b55050b775a79f06955f592db6288549e1d98.2eeb9338419e18d6db14.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/871921e26b2a9666c7e0ea5f88ca912a2514dc2a.9bffbc7641973b6398b3.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/50d9d385cc7a9e29ebdff50e255cfc19521da6d0.89d13d85ba8f623892a3.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/pages/index-36c0514082db4e9d4fac.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/1bc123f1c204f269b64d83a42f412a8300bd6499.d56abaf5fb91ad953ccf.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/pages/signin-f5917271f5d0caac178b.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/pages/signup-1b859fa040536555b87d.js">
</head>
<body style="background: url(&quot;https://adamnaamani.com/wp-content/uploads/2021/10/nft-real-estate-transparency.gif&quot;);">
   <div id="__next">
      <div class="authincation section-padding">
         <div class="container h-100">
            <div class="row justify-content-center h-100 align-items-center">
               <div class="col-xl-5 col-md-6">
                  <div class="mini-logo text-center my-4"><a href="index.html"><img alt="" src="https://i.ibb.co/wWffLgn/windrose.png" style="width: 100px;"></a></div>
                  <div class="auth-form card">
                     <div class="card-body">
                           <div class="row" style="color: black;">
                              <div class="col-12 mb-3">
                                 <label class="form-label">Username</label>
                                 <input type="text" name="" value="" class="form-control" id="username">
                                 <div class="invalid-feedback" id="username-feedback"></div>
                              </div>
                              <div class="col-12 mb-3">
                                 <label class="form-label">Email</label>
                                 <input type="text" name="email" value="" class="form-control" id="email">
                                 <div class="invalid-feedback" id="email-feedback">Email is required</div>
                              </div>
                              <div class="col-12 mb-3">
                                 <label class="form-label">Password</label>
                                 <input type="text" name="password" value="" class="form-control" id="password"></div>
                                 <div class="invalid-feedback" id="password-feedback">Email is required</div>
                              <div class="col-12">
                                 <div class="form-check">
                                    <input type="checkbox" name="acceptTerms" value="false" class="form-check-input" id="acceptTerms"><label class="form-check-label">I certify that I am 18 years of age or older, and agree to the <a href="signup.html#" class="text-primary" style="color: black;text-decoration: underline;">User Agreement</a> and <a href="signup.html#" class="text-primary" style="color: black;text-decoration: underline;">Privacy Policy</a>.</label>
                                    <div class="invalid-feedback" id="terms-feedback">Accept Ts &amp; Cs is required</div>
                                 </div>
                              </div>
                           </div>
                           <div class="mt-3 d-grid gap-2"><button class="btn btn-primary mr-2" style="background: black;border-color: black;" id="signup_btn">Sign Up</button></div>
                        <div class="text-center">
                           <p class="mt-3 mb-0"><a class="text-primary" href="/login" style="color: black;">Already have an account? Login</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
   <script>

      const display_message = (message) => {
         if(message["success"] == false){

            if(message["message"] == undefined){
               const username = JSON.stringify(message["valid_fields"]["username"])
               const email    = JSON.stringify(message["valid_fields"]["email"])
               const password = JSON.stringify(message["valid_fields"]["password"])

                     if(username == "false"){
                     document.getElementById("username-feedback").innerHTML = "Enter a valid username"
                     document.getElementById("username-feedback").style.display = "block";
               } else {
                     document.getElementById("username-feedback").style.display = "none";
               }

               if(email == "false"){
                     document.getElementById("email-feedback").innerHTML = "Enter a valid email"
                     document.getElementById("email-feedback").style.display = "block";

               } else {
                     document.getElementById("email-feedback").style.display = "none";
               }

               if(password == "false"){
                     document.getElementById("password-feedback").innerHTML = "Enter a valid password"
                     document.getElementById("password-feedback").style.display = "block";
               } else {
                  document.getElementById("password-feedback").style.display = "none";
               }
         } else {
            if(message["field"] == "username"){
               document.getElementById("username-feedback").innerHTML = message["message"];
               document.getElementById("username-feedback").style.display = "block";
            } else {
               document.getElementById("username-feedback").style.display = "none";
            }

            if(message["field"] == "email"){
               document.getElementById("email-feedback").innerHTML = message["message"];
               document.getElementById("email-feedback").style.display = "block";
            } else {
               document.getElementById("email-feedback").style.display = "none";
            }
         } } else {
            window.location.replace("/account");
         }
      }

      const sign_up = () => {
         const headers = new Headers();
         headers.append("Content-Type", "application/json");

         const username = document.getElementById("username").value
         const email    = document.getElementById("email").value
         const password = document.getElementById("password").value

         const request = {
         method: 'POST',
         headers: headers,
         redirect: 'follow',
         body: JSON.stringify({"username":username,"email":email,"password":password}),
         redirect: 'follow'
         };

         fetch("/signup", request)
         .then(response => response.json())
         .then(result => display_message(result))
         .catch(error => alert(error));
      }

      document.getElementById("signup_btn").onclick = () => {
         if(acceptTerms.value == false){
            document.getElementById("terms-feedback").style.display = "block";
         } else {
            document.getElementById("terms-feedback").style.display = "none";
            sign_up()
         }
      }

   </script>
</body>
</html>
