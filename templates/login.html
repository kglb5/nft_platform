<html>
<head><link rel="stylesheet" href="/static/_next/static/css/18320c07e1346e7b559c.css" data-n-g="">
<noscript data-n-css=""></noscript>
<title>Login</title>
<link rel="preload" href="/static/_next/static/chunks/main-27e14eb47b539cdb3e8c.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/framework.6fff953eb0f638171baa.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/commons.a89488e7f2e7f9f72c36.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/e826f0b3c7e5163b4a45b61034d017405fe77713.2469b8b4234649880463.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/pages/_app-7a45728c22287ba49f0c.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/871921e26b2a9666c7e0ea5f88ca912a2514dc2a.9bffbc7641973b6398b3.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/1bc123f1c204f269b64d83a42f412a8300bd6499.d56abaf5fb91ad953ccf.js" as="script">
<link rel="preload" href="/static/_next/static/chunks/pages/signup-1b859fa040536555b87d.js" as="script">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/4a3ea9cd.79a89465bcda83e5e828.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/75fc9c18.46f8ef1c317b30a0f302.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/e74b55050b775a79f06955f592db6288549e1d98.2eeb9338419e18d6db14.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/871921e26b2a9666c7e0ea5f88ca912a2514dc2a.9bffbc7641973b6398b3.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/50d9d385cc7a9e29ebdff50e255cfc19521da6d0.89d13d85ba8f623892a3.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/pages/index-36c0514082db4e9d4fac.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/1bc123f1c204f269b64d83a42f412a8300bd6499.d56abaf5fb91ad953ccf.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/pages/signin-f5917271f5d0caac178b.js">
<link as="script" rel="prefetch" href="/static/_next/static/chunks/pages/signup-1b859fa040536555b87d.js">
</head>
<body style="background: url(&quot;https://adamnaamani.com/wp-content/uploads/2021/10/nft-real-estate-transparency.gif&quot;);">
   <div id="__next">
      <div class="authincation section-padding">
         <div class="container h-100">
            <div class="row justify-content-center h-100 align-items-center">
               <div class="col-xl-5 col-md-6">
                  <div class="mini-logo text-center my-4"><a href="#"><img alt="" src="https://i.ibb.co/wWffLgn/windrose.png" style="width: 100px;"></a></div>
                  <div class="auth-form card">
                     <div class="card-body">
                           <div class="row" style="color: black;">
                              <div class="col-12 mb-3">
                                 <label class="form-label">Username</label><input type="text" name="fullName" value="" class="form-control" id="username">
                              </div>

                              <div class="col-12 mb-3">
                                 <label class="form-label">Password</label>
                                 <input type="password" name="password" value="" class="form-control" id="password">
                                 <div class="invalid-feedback" id="error-message"></div>
                              </div>

                           </div>
                           <div class="mt-3 d-grid gap-2"><button class="btn btn-primary mr-2" style="background: black;border-color: black;" id="login-btn">Login</button></div>
                        <div class="text-center">
                           <p class="mt-3 mb-0"><a class="text-primary" href="/forgot_password" style="color: black;text-decoration: underline;">Forgot password?</a></p>
                           <p class="mt-3 mb-0"><a class="text-primary" href="/signup" style="color: black;text-decoration: underline;">Don't have an account yet?  Sign Up</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </div>
   </div>
<script>

let display_message = (message) => {
   if(message["success"] == false){
      document.getElementById("error-message").innerHTML = message["message"];
      document.getElementById("error-message").style.display = "block";
   } else {
      window.location.replace("/account");
   }
}

let login = () => {
   const headers = new Headers();
   headers.append("Content-Type", "application/json");

   const username = document.getElementById("username").value
   const password = document.getElementById("password").value

   if(username == "" || password == ""){
      return display_message({"message":"You must enter your username and password", "success":false})
   }

   const request = {
   method: 'POST',
   redirect: 'follow',
   headers: headers,
   body: JSON.stringify({"user_id": username, "password": password}),
   redirect: 'follow'
   };

   fetch("/login", request)
   .then(response => response.json())
   .then(result => display_message(result))
   .catch(error => alert('error', error));
};

document.getElementById("login-btn").onclick = () =>{
   login()
}


</script>
</body>
</html>


